{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-01-20T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "req_user_home",
      "parentId": "fld_user_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3203/",
      "name": "Home",
      "description": "",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1705708800000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_user_get_all",
      "parentId": "fld_user_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3203/users",
      "name": "Get All Users",
      "description": "R√©cup√®re tous les utilisateurs",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1705708799000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_user_get_by_id",
      "parentId": "fld_user_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3203/users/chris_rivers",
      "name": "Get User By ID",
      "description": "R√©cup√®re un utilisateur par son ID",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1705708798000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_user_get_admin",
      "parentId": "fld_user_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3203/users/admin",
      "name": "Get Admin Users",
      "description": "R√©cup√®re tous les utilisateurs administrateurs",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1705708797000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_user_create",
      "parentId": "fld_user_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3203/users",
      "name": "Create User",
      "description": "Cr√©e un nouvel utilisateur",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"id\": \"new_user_id\",\n  \"name\": \"New User\",\n  \"last_active\": 1234567890,\n  \"role\": \"user\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708796000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_home",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/",
      "name": "Home",
      "description": "",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1705708795000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_all",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Query - Get All Movies",
      "description": "R√©cup√®re tous les films",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { all_movies { id title rating director } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708794000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_by_id",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Query - Get Movie By ID",
      "description": "R√©cup√®re un film par son ID\n\nFilm: Creed (267eedb8-0f5d-42d5-8f43-72426b9fb3e6)\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { movie_by_id(id: \\\"267eedb8-0f5d-42d5-8f43-72426b9fb3e6\\\") { id title rating director } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708793000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_by_title",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Query - Get Movie By Title",
      "description": "R√©cup√®re un film par son titre\n\nTitre: Creed\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { movie_by_title(title: \\\"Creed\\\") { id title rating director } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708792000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_add_admin",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Mutation - Add Movie (Admin) - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è ROUTE COMPLEXE POUR L'ORAL\n\nAppelle User (REST) pour v√©rifier les droits admin, puis MongoDB pour ajouter le film.\n\nUtilise chris_rivers (admin) comme author.",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { add_movie(movie: { id: \\\"demo-movie-oral-2025\\\", title: \\\"Nouveau Film Demo\\\", rating: 8.5, director: \\\"Realisateur Demo\\\", author: \\\"chris_rivers\\\" }) { message movie { id title rating director } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708791000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_add_non_admin",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Mutation - Add Movie (Non-Admin) - Test Erreur",
      "description": "Test avec un utilisateur non-admin pour montrer l'erreur de s√©curit√©",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { add_movie(movie: { id: \\\"test-movie-456\\\", title: \\\"Film Non Autoris√©\\\", rating: 5.0, director: \\\"Test\\\", author: \\\"garret_heaton\\\" }) { message movie { id title } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708790000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_update_rating",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Mutation - Update Movie Rating (Admin)",
      "description": "Met √† jour la note d'un film (admin requis)\n\nFilm: Creed (267eedb8-0f5d-42d5-8f43-72426b9fb3e6)\nNouvelle note: 9.0\nAdmin: chris_rivers\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { update_movie_rating(id: \\\"267eedb8-0f5d-42d5-8f43-72426b9fb3e6\\\", rating: 9.0, author: \\\"chris_rivers\\\") { message movie { id title rating } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708789000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_movie_delete",
      "parentId": "fld_movie_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "Mutation - Delete Movie (Admin)",
      "description": "Supprime un film (admin requis)",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { delete_movie(id: \\\"demo-movie-oral-2025\\\", author: \\\"chris_rivers\\\") { message movie { id title } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708788000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_home",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/",
      "name": "Home",
      "description": "",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1705708787000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_all_admin",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Query - All Bookings (Admin) - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è ROUTE COMPLEXE POUR L'ORAL\n\nAppelle User (REST) pour v√©rifier les droits admin, puis MongoDB pour r√©cup√©rer toutes les r√©servations.\n\nUtilise chris_rivers (admin).",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { all_bookings(userid: \\\"chris_rivers\\\") { userid dates { date movies } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708786000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_all_non_admin",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Query - All Bookings (Non-Admin) - Test Erreur",
      "description": "Test avec un utilisateur non-admin pour montrer l'erreur d'acc√®s refus√©",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { all_bookings(userid: \\\"garret_heaton\\\") { userid dates { date movies } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708785000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_by_user",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Query - Get User Bookings",
      "description": "R√©cup√®re les r√©servations d'un utilisateur\n\nUtilisateur: chris_rivers (a d√©j√† des r√©servations)\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { bookings_by_user(userid: \\\"chris_rivers\\\") { userid dates { date movies } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708784000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_detailed",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Query - Detailed Bookings - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è ROUTE COMPLEXE POUR L'ORAL\n\nAppelle:\n1. MongoDB pour r√©cup√©rer les r√©servations\n2. Movie (GraphQL) pour chaque film r√©serv√©\n3. Schedule (gRPC) pour chaque date\n\nCombine toutes les donn√©es pour retourner un r√©sultat enrichi.\n\nUtilisateur: chris_rivers (a d√©j√† des r√©servations)\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { detailed_bookings_by_user(userid: \\\"chris_rivers\\\") { userid bookings { date movies { movie { id title rating director } schedule { date movies } } } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708783000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_create",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Mutation - Create Booking - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è ROUTE COMPLEXE POUR L'ORAL\n\nAppelle:\n1. Movie (GraphQL) pour v√©rifier que le film existe\n2. Schedule (gRPC) pour v√©rifier que le film est programm√©\n3. MongoDB pour cr√©er la r√©servation\n\nFilm ID: 720d006c-3a57-4b6a-b18f-9b713b073f3c (The Good Dinosaur)\nDate: 20151203 (film programm√©)\nUtilisateur: peter_curley (pas encore de r√©servation)\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { create_booking(input: { userid: \\\"peter_curley\\\", movieid: \\\"720d006c-3a57-4b6a-b18f-9b713b073f3c\\\", date: \\\"20151203\\\" }) { message booking { userid movieid date } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708782000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_delete",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Mutation - Delete Booking",
      "description": "Supprime une r√©servation sp√©cifique\n\nUtilisateur: garret_heaton\nFilm: Victor Frankenstein (7daf7208-be4d-4944-a3ae-c1c2f516f3e6)\nDate: 20151201\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { delete_booking(userid: \\\"garret_heaton\\\", movieid: \\\"7daf7208-be4d-4944-a3ae-c1c2f516f3e6\\\", date: \\\"20151201\\\") { message } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708781000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_booking_delete_all",
      "parentId": "fld_booking_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "Mutation - Delete All User Bookings",
      "description": "Supprime toutes les r√©servations d'un utilisateur",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { delete_all_user_bookings(userid: \\\"test_user\\\") { message } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708780000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_demo_user_create",
      "parentId": "fld_demo_user",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "1. Cr√©er une r√©servation - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è SC√âNARIO UTILISATEUR - √âTAPE 1\n\nRoute complexe qui appelle:\n1. Movie (GraphQL) pour v√©rifier que le film existe\n2. Schedule (gRPC) pour v√©rifier que le film est programm√©\n3. MongoDB pour cr√©er la r√©servation\n\nUtilisateur: peter_curley (user)\nFilm: The Good Dinosaur (720d006c-3a57-4b6a-b18f-9b713b073f3c) - programm√© le 20151203\nDate: 20151203\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies (pas de conflit)",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { create_booking(input: { userid: \\\"peter_curley\\\", movieid: \\\"720d006c-3a57-4b6a-b18f-9b713b073f3c\\\", date: \\\"20151203\\\" }) { message booking { userid movieid date } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708900000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_demo_user_detailed",
      "parentId": "fld_demo_user",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "2. Voir r√©servations d√©taill√©es - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è SC√âNARIO UTILISATEUR - √âTAPE 2\n\nRoute complexe qui appelle:\n1. MongoDB pour r√©cup√©rer les r√©servations\n2. Movie (GraphQL) pour chaque film r√©serv√© (d√©tails)\n3. Schedule (gRPC) pour chaque date (planning)\n\nCombine toutes les donn√©es pour retourner un r√©sultat enrichi.\n\nUtilisateur: peter_curley (vient de cr√©er une r√©servation √† l'√©tape 1)\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { detailed_bookings_by_user(userid: \\\"peter_curley\\\") { userid bookings { date movies { movie { id title rating director } schedule { date movies } } } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708899000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_demo_admin_all_bookings",
      "parentId": "fld_demo_admin",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3201/graphql",
      "name": "1. Voir toutes les r√©servations - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è SC√âNARIO ADMINISTRATEUR - √âTAPE 1\n\nRoute complexe qui appelle:\n1. User (REST) pour v√©rifier les droits admin\n2. MongoDB pour r√©cup√©rer toutes les r√©servations\n\nUtilisateur: chris_rivers (admin)\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"query { all_bookings(userid: \\\"chris_rivers\\\") { userid dates { date movies } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708898000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_demo_admin_add_movie",
      "parentId": "fld_demo_admin",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "2. Ajouter un film - ROUTE COMPLEXE",
      "description": "‚ö†Ô∏è SC√âNARIO ADMINISTRATEUR - √âTAPE 2\n\nRoute complexe qui appelle:\n1. User (REST) pour v√©rifier les droits admin\n2. MongoDB pour ajouter le film\n\nUtilisateur: chris_rivers (admin)\nFilm ID unique g√©n√©r√© pour √©viter les conflits\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { add_movie(movie: { id: \\\"demo-movie-oral-2025\\\", title: \\\"Nouveau Film Demo\\\", rating: 8.5, director: \\\"Realisateur Demo\\\", author: \\\"chris_rivers\\\" }) { message movie { id title rating director } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708897000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_demo_admin_error",
      "parentId": "fld_demo_admin",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "http://localhost:3001/graphql",
      "name": "3. Test avec non-admin (erreur attendue)",
      "description": "‚ö†Ô∏è SC√âNARIO ADMINISTRATEUR - √âTAPE 3\n\nMontre que les non-admins sont rejet√©s.\n\nUtilisateur: garret_heaton (user) - doit retourner une erreur\n\n‚úÖ PR√äT √Ä ENVOYER - Doit retourner une erreur (comportement attendu)",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"query\": \"mutation { add_movie(movie: { id: \\\"demo-movie-non-admin\\\", title: \\\"Film Non Autoris√©\\\", rating: 5.0, director: \\\"Test\\\", author: \\\"garret_heaton\\\" }) { message movie { id title } } }\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1705708896000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingDisableRenderRequestBody": false,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "fld_demo_user",
      "parentId": "wrk_main",
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "üé¨ D√âMO ORAL - Sc√©nario Utilisateur",
      "description": "Sc√©nario logique d'utilisation des API pour un utilisateur\n\nOrdre d'ex√©cution:\n1. Cr√©er une r√©servation (route complexe)\n2. Voir r√©servations d√©taill√©es (route complexe)\n\nCes routes montrent les appels inter-services (Movie, Schedule, MongoDB).",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1705708900000,
      "_type": "request_group"
    },
    {
      "_id": "fld_demo_admin",
      "parentId": "wrk_main",
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "üëë D√âMO ORAL - Sc√©nario Administrateur",
      "description": "Sc√©nario logique d'utilisation des API pour un administrateur\n\nOrdre d'ex√©cution:\n1. Voir toutes les r√©servations (route complexe)\n2. Ajouter un film (route complexe)\n3. Tester avec non-admin (montrer l'erreur)\n\nCes routes montrent les appels inter-services (User, MongoDB) et la s√©curit√©.",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1705708899000,
      "_type": "request_group"
    },
    {
      "_id": "fld_user_service",
      "parentId": "wrk_main",
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "User Service (REST)",
      "description": "Service REST pour la gestion des utilisateurs - Port 3203",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1705708800000,
      "_type": "request_group"
    },
    {
      "_id": "fld_movie_service",
      "parentId": "wrk_main",
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "Movie Service (GraphQL)",
      "description": "Service GraphQL pour la gestion des films - Port 3001",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1705708799000,
      "_type": "request_group"
    },
    {
      "_id": "fld_booking_service",
      "parentId": "wrk_main",
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "Booking Service (GraphQL)",
      "description": "Service GraphQL pour la gestion des r√©servations - Port 3201\n\n‚ö†Ô∏è Ce service appelle les autres services:\n- Movie (GraphQL)\n- Schedule (gRPC)\n- User (REST)",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1705708798000,
      "_type": "request_group"
    },
    {
      "_id": "fld_schedule_service",
      "parentId": "wrk_main",
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "üì° Schedule Service (gRPC)",
      "description": "‚ö†Ô∏è IMPORTANT : gRPC ne peut PAS √™tre test√© avec une requ√™te HTTP standard.\n\nüìã OPTION 1 - Insomnia gRPC Client (recommand√©) :\n1. Cliquez sur le bouton **+** dans le panneau gauche de cette collection\n2. S√©lectionnez **\"gRPC Request\"**\n3. **Host et port** : `localhost:3002`\n4. Cliquez sur l'**ic√¥ne de fichier** üìÅ pour uploader le fichier Protobuf\n   - Fichier √† uploader : `schedule/schedule.proto`\n5. Cliquez sur **\"Select Method\"** et choisissez une m√©thode :\n   - `schedule.Schedule/GetAll` (Unary - pas de body)\n   - `schedule.Schedule/GetByDate` (Unary - body: `{ \"date\": \"20151201\" }`)\n   - `schedule.Schedule/AddToSchedule` (Unary - body: `{ \"date\": \"20151201\", \"id\": \"720d006c-3a57-4b6a-b18f-9b713b073f3c\" }`)\n   - `schedule.Schedule/RemoveFromSchedule` (Unary - body: `{ \"date\": \"20151201\", \"id\": \"720d006c-3a57-4b6a-b18f-9b713b073f3c\" }`)\n6. Entrez le **Body** JSON selon la m√©thode choisie\n7. Cliquez sur **Send**\n\nüìã OPTION 2 - grpcurl (CLI) :\nInstallez grpcurl : https://github.com/fullstorydev/grpcurl\n\nExemples de commandes :\n\n‚Ä¢ GetAll :\ngrpcurl -plaintext localhost:3002 schedule.Schedule/GetAll\n\n‚Ä¢ GetByDate :\ngrpcurl -plaintext -d '{\"date\":\"20151201\"}' localhost:3002 schedule.Schedule/GetByDate\n\n‚Ä¢ AddToSchedule :\ngrpcurl -plaintext -d '{\"date\":\"20151201\",\"id\":\"720d006c-3a57-4b6a-b18f-9b713b073f3c\"}' localhost:3002 schedule.Schedule/AddToSchedule\n\n‚Ä¢ RemoveFromSchedule :\ngrpcurl -plaintext -d '{\"date\":\"20151201\",\"id\":\"720d006c-3a57-4b6a-b18f-9b713b073f3c\"}' localhost:3002 schedule.Schedule/RemoveFromSchedule\n\nüìÅ Fichier proto : `schedule/schedule.proto`",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1705708797000,
      "_type": "request_group"
    },
    {
      "_id": "req_schedule_getall",
      "parentId": "fld_schedule_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "grpc://localhost:3002",
      "name": "GetAll - R√©cup√©rer tout le planning",
      "description": "‚ö†Ô∏è REQU√äTE gRPC\n\nM√©thode: schedule.Schedule/GetAll\nType: Unary (pas de body n√©cessaire)\n\nüìã Configuration dans Insomnia:\n1. Cette requ√™te est d√©j√† configur√©e comme gRPC\n2. Upload le fichier `schedule/schedule.proto` dans les param√®tres de la requ√™te\n3. S√©lectionne la m√©thode: schedule.Schedule/GetAll\n4. Body: vide (ou {})\n5. Clique sur Send",
      "body": {
        "mimeType": "application/json",
        "text": "{}"
      },
      "parameters": [],
      "headers": [],
      "metaSortKey": -1705708796000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "grpcMethod": "schedule.Schedule/GetAll",
      "grpcUrl": "grpc://localhost:3002",
      "_type": "grpc_request"
    },
    {
      "_id": "req_schedule_getbydate",
      "parentId": "fld_schedule_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "grpc://localhost:3002",
      "name": "GetByDate - Planning par date",
      "description": "‚ö†Ô∏è REQU√äTE gRPC\n\nM√©thode: schedule.Schedule/GetByDate\nType: Unary\nBody: { \"date\": \"20151201\" }\n\nüìã Configuration dans Insomnia:\n1. Cette requ√™te est d√©j√† configur√©e comme gRPC\n2. Upload le fichier `schedule/schedule.proto` dans les param√®tres de la requ√™te\n3. S√©lectionne la m√©thode: schedule.Schedule/GetByDate\n4. Body pr√©-rempli avec une date valide\n5. Clique sur Send\n\n‚úÖ PR√äT √Ä ENVOYER - Date valide pr√©-remplie",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"date\": \"20151201\"\n}"
      },
      "parameters": [],
      "headers": [],
      "metaSortKey": -1705708795000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "grpcMethod": "schedule.Schedule/GetByDate",
      "grpcUrl": "grpc://localhost:3002",
      "_type": "grpc_request"
    },
    {
      "_id": "req_schedule_addtoschedule",
      "parentId": "fld_schedule_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "grpc://localhost:3002",
      "name": "AddToSchedule - Ajouter un film au planning",
      "description": "‚ö†Ô∏è REQU√äTE gRPC\n\nM√©thode: schedule.Schedule/AddToSchedule\nType: Unary\nBody: { \"date\": \"20151201\", \"id\": \"720d006c-3a57-4b6a-b18f-9b713b073f3c\" }\n\nüìã Configuration dans Insomnia:\n1. Cette requ√™te est d√©j√† configur√©e comme gRPC\n2. Upload le fichier `schedule/schedule.proto` dans les param√®tres de la requ√™te\n3. S√©lectionne la m√©thode: schedule.Schedule/AddToSchedule\n4. Body pr√©-rempli avec des donn√©es valides\n5. Clique sur Send\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"date\": \"20151201\",\n  \"id\": \"720d006c-3a57-4b6a-b18f-9b713b073f3c\"\n}"
      },
      "parameters": [],
      "headers": [],
      "metaSortKey": -1705708794000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "grpcMethod": "schedule.Schedule/AddToSchedule",
      "grpcUrl": "grpc://localhost:3002",
      "_type": "grpc_request"
    },
    {
      "_id": "req_schedule_removefromschedule",
      "parentId": "fld_schedule_service",
      "modified": 1705708800000,
      "created": 1705708800000,
      "url": "grpc://localhost:3002",
      "name": "RemoveFromSchedule - Retirer un film du planning",
      "description": "‚ö†Ô∏è REQU√äTE gRPC\n\nM√©thode: schedule.Schedule/RemoveFromSchedule\nType: Unary\nBody: { \"date\": \"20151201\", \"id\": \"720d006c-3a57-4b6a-b18f-9b713b073f3c\" }\n\nüìã Configuration dans Insomnia:\n1. Cette requ√™te est d√©j√† configur√©e comme gRPC\n2. Upload le fichier `schedule/schedule.proto` dans les param√®tres de la requ√™te\n3. S√©lectionne la m√©thode: schedule.Schedule/RemoveFromSchedule\n4. Body pr√©-rempli avec des donn√©es valides\n5. Clique sur Send\n\n‚úÖ PR√äT √Ä ENVOYER - Donn√©es valides pr√©-remplies",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"date\": \"20151201\",\n  \"id\": \"720d006c-3a57-4b6a-b18f-9b713b073f3c\"\n}"
      },
      "parameters": [],
      "headers": [],
      "metaSortKey": -1705708793000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "grpcMethod": "schedule.Schedule/RemoveFromSchedule",
      "grpcUrl": "grpc://localhost:3002",
      "_type": "grpc_request"
    },
    {
      "_id": "wrk_main",
      "parentId": null,
      "modified": 1705708800000,
      "created": 1705708800000,
      "name": "UE-AD-A1-MIXTE",
      "description": "Collection compl√®te pour tester les microservices:\n- User (REST) - Port 3203\n- Movie (GraphQL) - Port 3001\n- Booking (GraphQL) - Port 3201\n- Schedule (gRPC) - Port 3002\n\nüé¨ D√âMO ORAL:\n- Sc√©nario Utilisateur: routes complexes pour un utilisateur\n- Sc√©nario Administrateur: routes complexes pour un admin\n\n‚ö†Ô∏è Routes complexes marqu√©es pour l'oral",
      "scope": null,
      "_type": "workspace"
    }
  ]
}

